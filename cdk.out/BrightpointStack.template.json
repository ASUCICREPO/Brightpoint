{
 "Description": "Brightpoint Referral Chatbot infrastructure",
 "Resources": {
  "WebSocketConnectionsTable7F0028CC": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "connectionId",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "connectionId",
      "KeyType": "HASH"
     }
    ],
    "TableName": "WebSocketConnections"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/WebSocketConnectionsTable/Resource"
   }
  },
  "perplexityquerycacheTable9E120D0C": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "query_id",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "query_id",
      "KeyType": "HASH"
     }
    ],
    "TableName": "perplexity_query_cache"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/perplexity_query_cacheTable/Resource"
   }
  },
  "queryanalyticsTableC6CEA252": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "query_text",
      "AttributeType": "S"
     },
     {
      "AttributeName": "Zipcode",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "query_text",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "Zipcode",
      "KeyType": "RANGE"
     }
    ],
    "TableName": "query_analytics"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/query_analyticsTable/Resource"
   }
  },
  "referraldataTable5ABDFEB4": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "referral_id",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "referral_id",
      "KeyType": "HASH"
     }
    ],
    "TableName": "referral_data"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/referral_dataTable/Resource"
   }
  },
  "userdataTableB31622A0": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "user_id",
      "AttributeType": "S"
     },
     {
      "AttributeName": "Phone",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "Phone-index",
      "KeySchema": [
       {
        "AttributeName": "Phone",
        "KeyType": "HASH"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "user_id",
      "KeyType": "HASH"
     }
    ],
    "StreamSpecification": {
     "StreamViewType": "NEW_AND_OLD_IMAGES"
    },
    "TableName": "user_data"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/user_dataTable/Resource"
   }
  },
  "BrightpointUserPoolF24B41F9": {
   "Type": "AWS::Cognito::UserPool",
   "Properties": {
    "AccountRecoverySetting": {
     "RecoveryMechanisms": [
      {
       "Name": "verified_email",
       "Priority": 1
      }
     ]
    },
    "AdminCreateUserConfig": {
     "AllowAdminCreateUserOnly": false
    },
    "AutoVerifiedAttributes": [
     "email"
    ],
    "EmailVerificationMessage": "The verification code to your new account is {####}",
    "EmailVerificationSubject": "Verify your new account",
    "SmsVerificationMessage": "The verification code to your new account is {####}",
    "UsernameAttributes": [
     "email"
    ],
    "VerificationMessageTemplate": {
     "DefaultEmailOption": "CONFIRM_WITH_CODE",
     "EmailMessage": "The verification code to your new account is {####}",
     "EmailSubject": "Verify your new account",
     "SmsMessage": "The verification code to your new account is {####}"
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/BrightpointUserPool/Resource"
   }
  },
  "BrightpointUserPoolClient3A182275": {
   "Type": "AWS::Cognito::UserPoolClient",
   "Properties": {
    "AllowedOAuthFlows": [
     "implicit",
     "code"
    ],
    "AllowedOAuthFlowsUserPoolClient": true,
    "AllowedOAuthScopes": [
     "profile",
     "phone",
     "email",
     "openid",
     "aws.cognito.signin.user.admin"
    ],
    "CallbackURLs": [
     "https://example.com"
    ],
    "ExplicitAuthFlows": [
     "ALLOW_USER_PASSWORD_AUTH",
     "ALLOW_REFRESH_TOKEN_AUTH"
    ],
    "GenerateSecret": false,
    "SupportedIdentityProviders": [
     "COGNITO"
    ],
    "UserPoolId": {
     "Ref": "BrightpointUserPoolF24B41F9"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/BrightpointUserPoolClient/Resource"
   }
  },
  "BrightpointIdentityPool": {
   "Type": "AWS::Cognito::IdentityPool",
   "Properties": {
    "AllowUnauthenticatedIdentities": false,
    "CognitoIdentityProviders": [
     {
      "ClientId": {
       "Ref": "BrightpointUserPoolClient3A182275"
      },
      "ProviderName": {
       "Fn::GetAtt": [
        "BrightpointUserPoolF24B41F9",
        "ProviderName"
       ]
      }
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/BrightpointIdentityPool"
   }
  },
  "BrightpointManualAmplifyAppRole72173ABA": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "amplify.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/BrightpointManualAmplifyApp/Role/Resource"
   }
  },
  "BrightpointManualAmplifyApp4DC32DC0": {
   "Type": "AWS::Amplify::App",
   "Properties": {
    "BasicAuthConfig": {
     "EnableBasicAuth": false
    },
    "Description": "Amplify App for manually deployed frontend",
    "EnableBranchAutoDeletion": true,
    "IAMServiceRole": {
     "Fn::GetAtt": [
      "BrightpointManualAmplifyAppRole72173ABA",
      "Arn"
     ]
    },
    "Name": "brightpoint-manual-app",
    "Platform": "WEB"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/BrightpointManualAmplifyApp/Resource"
   }
  },
  "BrightpointManualAmplifyAppprod27DD8B47": {
   "Type": "AWS::Amplify::Branch",
   "Properties": {
    "AppId": {
     "Fn::GetAtt": [
      "BrightpointManualAmplifyApp4DC32DC0",
      "AppId"
     ]
    },
    "BranchName": "prod",
    "EnableAutoBuild": true,
    "EnablePullRequestPreview": true
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/BrightpointManualAmplifyApp/prod/Resource"
   }
  },
  "ReferralChatbotRoleDD6FC688": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Brightpoint Referral Chatbot Lambda function",
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "RoleName": "referralChatbotLambda-role"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotRole/Resource"
   }
  },
  "ReferralChatbotRoleDefaultPolicyA7AF46B4": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "bedrock:InvokeModel",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "comprehend:DetectDominantLanguage",
        "iam:GetRole",
        "iam:ListRoles",
        "s3:GetBucketLocation",
        "s3:ListAllMyBuckets",
        "s3:ListBucket",
        "translate:*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        "arn:aws:dynamodb:us-east-1:216989103356:table/referral_data",
        "arn:aws:dynamodb:us-east-1:216989103356:table/user_data"
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": "arn:aws:lambda:us-east-1:216989103356:function:perplexityLambda"
      },
      {
       "Action": "execute-api:ManageConnections",
       "Effect": "Allow",
       "Resource": "arn:aws:execute-api:*:*:*/*/POST/@connections/*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/referralChatbotLambda:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ReferralChatbotRoleDefaultPolicyA7AF46B4",
    "Roles": [
     {
      "Ref": "ReferralChatbotRoleDD6FC688"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotRole/DefaultPolicy/Resource"
   }
  },
  "PerplexityLambdaRoleF29E6D66": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Perplexity Lambda function",
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "RoleName": "perplexityLambda-role"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/PerplexityLambdaRole/Resource"
   }
  },
  "PerplexityLambdaRoleDefaultPolicyAE238026": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "comprehend:DetectDominantLanguage",
        "dax:*",
        "dynamodb:*",
        "iam:GetRole",
        "iam:ListRoles",
        "s3:GetBucketLocation",
        "s3:ListAllMyBuckets",
        "s3:ListBucket",
        "translate:*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/perplexityLambda:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "PerplexityLambdaRoleDefaultPolicyAE238026",
    "Roles": [
     {
      "Ref": "PerplexityLambdaRoleF29E6D66"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/PerplexityLambdaRole/DefaultPolicy/Resource"
   }
  },
  "ProcessUserDataRole3CAFEF38": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Process User Data Lambda function",
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "RoleName": "LambdaUserDynamoDBRole"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ProcessUserDataRole/Resource"
   }
  },
  "ProcessUserDataRoleDefaultPolicy552F74C9": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "comprehend:DetectDominantLanguage",
        "dax:*",
        "dynamodb:*",
        "iam:GetRole",
        "iam:ListRoles",
        "s3:GetBucketLocation",
        "s3:ListAllMyBuckets",
        "s3:ListBucket",
        "translate:*"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "execute-api:ManageConnections",
       "Effect": "Allow",
       "Resource": "arn:aws:execute-api:*:*:*/*/POST/@connections/*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/ProcessUserData:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ProcessUserDataRoleDefaultPolicy552F74C9",
    "Roles": [
     {
      "Ref": "ProcessUserDataRole3CAFEF38"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ProcessUserDataRole/DefaultPolicy/Resource"
   }
  },
  "QueryAnalyticsBackfillRole4F8F73C6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Query Analytics Backfill Lambda function",
    "RoleName": "query-analytics-backfill-role-1osb4uwf"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsBackfillRole/Resource"
   }
  },
  "QueryAnalyticsBackfillRoleDefaultPolicy3EAE125F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "application-autoscaling:DeleteScalingPolicy",
        "application-autoscaling:DeregisterScalableTarget",
        "application-autoscaling:DescribeScalableTargets",
        "application-autoscaling:DescribeScalingActivities",
        "application-autoscaling:DescribeScalingPolicies",
        "application-autoscaling:PutScalingPolicy",
        "application-autoscaling:RegisterScalableTarget",
        "cloudwatch:DeleteAlarms",
        "cloudwatch:DescribeAlarmHistory",
        "cloudwatch:DescribeAlarms",
        "cloudwatch:DescribeAlarmsForMetric",
        "cloudwatch:GetMetricData",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "cloudwatch:PutMetricAlarm",
        "datapipeline:ActivatePipeline",
        "datapipeline:CreatePipeline",
        "datapipeline:DeletePipeline",
        "datapipeline:DescribeObjects",
        "datapipeline:DescribePipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:ListPipelines",
        "datapipeline:PutPipelineDefinition",
        "datapipeline:QueryObjects",
        "dax:*",
        "dynamodb:*",
        "dynamodb:DescribeStream",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:ListStreams",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:GetRole",
        "iam:ListRoles",
        "kinesis:DescribeStream",
        "kinesis:DescribeStreamSummary",
        "kinesis:ListStreams",
        "kms:DescribeKey",
        "kms:ListAliases",
        "lambda:CreateEventSourceMapping",
        "lambda:CreateFunction",
        "lambda:DeleteEventSourceMapping",
        "lambda:DeleteFunction",
        "lambda:GetFunctionConfiguration",
        "lambda:ListEventSourceMappings",
        "lambda:ListFunctions",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents",
        "resource-groups:CreateGroup",
        "resource-groups:DeleteGroup",
        "resource-groups:GetGroup",
        "resource-groups:GetGroupQuery",
        "resource-groups:ListGroupResources",
        "resource-groups:ListGroups",
        "sns:CreateTopic",
        "sns:DeleteTopic",
        "sns:ListSubscriptions",
        "sns:ListSubscriptionsByTopic",
        "sns:ListTopics",
        "sns:SetTopicAttributes",
        "sns:Subscribe",
        "sns:Unsubscribe",
        "tag:GetResources"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "cloudwatch:GetInsightRuleReport",
       "Effect": "Allow",
       "Resource": "arn:aws:cloudwatch:*:*:insight-rule/DynamoDBContributorInsights*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringLike": {
         "iam:PassedToService": [
          "application-autoscaling.amazonaws.com",
          "application-autoscaling.amazonaws.com.cn",
          "dax.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:CreateServiceLinkedRole",
       "Condition": {
        "StringEquals": {
         "iam:AWSServiceName": [
          "replication.dynamodb.amazonaws.com",
          "dax.amazonaws.com",
          "dynamodb.application-autoscaling.amazonaws.com",
          "contributorinsights.dynamodb.amazonaws.com",
          "kinesisreplication.dynamodb.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/query-analytics-backfill:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "QueryAnalyticsBackfillRoleDefaultPolicy3EAE125F",
    "Roles": [
     {
      "Ref": "QueryAnalyticsBackfillRole4F8F73C6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsBackfillRole/DefaultPolicy/Resource"
   }
  },
  "QueryAnalyticsApiRole4843455A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Query Analytics API Lambda function",
    "RoleName": "query-analytics-api-role"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsApiRole/Resource"
   }
  },
  "QueryAnalyticsApiRoleDefaultPolicy554AC0DA": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "application-autoscaling:DeleteScalingPolicy",
        "application-autoscaling:DeregisterScalableTarget",
        "application-autoscaling:DescribeScalableTargets",
        "application-autoscaling:DescribeScalingActivities",
        "application-autoscaling:DescribeScalingPolicies",
        "application-autoscaling:PutScalingPolicy",
        "application-autoscaling:RegisterScalableTarget",
        "cloudwatch:DeleteAlarms",
        "cloudwatch:DescribeAlarmHistory",
        "cloudwatch:DescribeAlarms",
        "cloudwatch:DescribeAlarmsForMetric",
        "cloudwatch:GetMetricData",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "cloudwatch:PutMetricAlarm",
        "datapipeline:ActivatePipeline",
        "datapipeline:CreatePipeline",
        "datapipeline:DeletePipeline",
        "datapipeline:DescribeObjects",
        "datapipeline:DescribePipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:ListPipelines",
        "datapipeline:PutPipelineDefinition",
        "datapipeline:QueryObjects",
        "dax:*",
        "dynamodb:*",
        "dynamodb:DescribeStream",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:ListStreams",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:GetRole",
        "iam:ListRoles",
        "kinesis:DescribeStream",
        "kinesis:DescribeStreamSummary",
        "kinesis:ListStreams",
        "kms:DescribeKey",
        "kms:ListAliases",
        "lambda:CreateEventSourceMapping",
        "lambda:CreateFunction",
        "lambda:DeleteEventSourceMapping",
        "lambda:DeleteFunction",
        "lambda:GetFunctionConfiguration",
        "lambda:ListEventSourceMappings",
        "lambda:ListFunctions",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents",
        "resource-groups:CreateGroup",
        "resource-groups:DeleteGroup",
        "resource-groups:GetGroup",
        "resource-groups:GetGroupQuery",
        "resource-groups:ListGroupResources",
        "resource-groups:ListGroups",
        "sns:CreateTopic",
        "sns:DeleteTopic",
        "sns:ListSubscriptions",
        "sns:ListSubscriptionsByTopic",
        "sns:ListTopics",
        "sns:SetTopicAttributes",
        "sns:Subscribe",
        "sns:Unsubscribe",
        "tag:GetResources"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "cloudwatch:GetInsightRuleReport",
       "Effect": "Allow",
       "Resource": "arn:aws:cloudwatch:*:*:insight-rule/DynamoDBContributorInsights*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringLike": {
         "iam:PassedToService": [
          "application-autoscaling.amazonaws.com",
          "application-autoscaling.amazonaws.com.cn",
          "dax.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:CreateServiceLinkedRole",
       "Condition": {
        "StringEquals": {
         "iam:AWSServiceName": [
          "replication.dynamodb.amazonaws.com",
          "dax.amazonaws.com",
          "dynamodb.application-autoscaling.amazonaws.com",
          "contributorinsights.dynamodb.amazonaws.com",
          "kinesisreplication.dynamodb.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/query-analytics-api:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "QueryAnalyticsApiRoleDefaultPolicy554AC0DA",
    "Roles": [
     {
      "Ref": "QueryAnalyticsApiRole4843455A"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsApiRole/DefaultPolicy/Resource"
   }
  },
  "ReferralsApiHandlerRoleEF1D513A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Referrals API Handler Lambda function",
    "RoleName": "ReferralsApiHandler-role"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApiHandlerRole/Resource"
   }
  },
  "ReferralsApiHandlerRoleDefaultPolicy33785ED8": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "cloudwatch:GenerateQuery",
        "logs:*"
       ],
       "Effect": "Allow",
       "Resource": "*",
       "Sid": "CloudWatchLogsFullAccess"
      },
      {
       "Action": [
        "application-autoscaling:DeleteScalingPolicy",
        "application-autoscaling:DeregisterScalableTarget",
        "application-autoscaling:DescribeScalableTargets",
        "application-autoscaling:DescribeScalingActivities",
        "application-autoscaling:DescribeScalingPolicies",
        "application-autoscaling:PutScalingPolicy",
        "application-autoscaling:RegisterScalableTarget",
        "cloudwatch:DeleteAlarms",
        "cloudwatch:DescribeAlarmHistory",
        "cloudwatch:DescribeAlarms",
        "cloudwatch:DescribeAlarmsForMetric",
        "cloudwatch:GetMetricData",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "cloudwatch:PutMetricAlarm",
        "datapipeline:ActivatePipeline",
        "datapipeline:CreatePipeline",
        "datapipeline:DeletePipeline",
        "datapipeline:DescribeObjects",
        "datapipeline:DescribePipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:ListPipelines",
        "datapipeline:PutPipelineDefinition",
        "datapipeline:QueryObjects",
        "dax:*",
        "dynamodb:*",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:GetRole",
        "iam:ListRoles",
        "kinesis:DescribeStream",
        "kinesis:DescribeStreamSummary",
        "kinesis:ListStreams",
        "kms:DescribeKey",
        "kms:ListAliases",
        "lambda:CreateEventSourceMapping",
        "lambda:CreateFunction",
        "lambda:DeleteEventSourceMapping",
        "lambda:DeleteFunction",
        "lambda:GetFunctionConfiguration",
        "lambda:ListEventSourceMappings",
        "lambda:ListFunctions",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents",
        "resource-groups:CreateGroup",
        "resource-groups:DeleteGroup",
        "resource-groups:GetGroup",
        "resource-groups:GetGroupQuery",
        "resource-groups:ListGroupResources",
        "resource-groups:ListGroups",
        "sns:CreateTopic",
        "sns:DeleteTopic",
        "sns:ListSubscriptions",
        "sns:ListSubscriptionsByTopic",
        "sns:ListTopics",
        "sns:SetTopicAttributes",
        "sns:Subscribe",
        "sns:Unsubscribe",
        "tag:GetResources"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "cloudwatch:GetInsightRuleReport",
       "Effect": "Allow",
       "Resource": "arn:aws:cloudwatch:*:*:insight-rule/DynamoDBContributorInsights*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringLike": {
         "iam:PassedToService": [
          "application-autoscaling.amazonaws.com",
          "application-autoscaling.amazonaws.com.cn",
          "dax.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:CreateServiceLinkedRole",
       "Condition": {
        "StringEquals": {
         "iam:AWSServiceName": [
          "replication.dynamodb.amazonaws.com",
          "dax.amazonaws.com",
          "dynamodb.application-autoscaling.amazonaws.com",
          "contributorinsights.dynamodb.amazonaws.com",
          "kinesisreplication.dynamodb.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:*:*:*"
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:dynamodb:*:*:table/Referrals"
      },
      {
       "Action": "execute-api:ManageConnections",
       "Effect": "Allow",
       "Resource": "arn:aws:execute-api:*:*:*/*/POST/@connections/*"
      },
      {
       "Action": [
        "dynamodb:DeleteItem",
        "dynamodb:GetItem",
        "dynamodb:PutItem",
        "dynamodb:Scan"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:dynamodb:*:*:table/WebSocketConnections"
      },
      {
       "Action": [
        "dynamodb:GetItem",
        "dynamodb:Query",
        "dynamodb:Scan"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:dynamodb:us-east-1:216989103356:table/referral_data"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ReferralsApiHandlerRoleDefaultPolicy33785ED8",
    "Roles": [
     {
      "Ref": "ReferralsApiHandlerRoleEF1D513A"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApiHandlerRole/DefaultPolicy/Resource"
   }
  },
  "SmsChatIntegrationRoleDDE00F4D": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for SMS Chat Integration Lambda function",
    "RoleName": "smsChatIntegration-role-ihkg71ku"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/SmsChatIntegrationRole/Resource"
   }
  },
  "SmsChatIntegrationRoleDefaultPolicy28D66DB5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "apigateway:*",
       "Effect": "Allow",
       "Resource": "arn:aws:apigateway:*::/*"
      },
      {
       "Action": "sns:*",
       "Effect": "Allow",
       "Resource": "*",
       "Sid": "SNSFullAccess"
      },
      {
       "Action": [
        "sms-voice:CreateVerifiedDestinationNumber",
        "sms-voice:DeleteOptedOutNumber",
        "sms-voice:DeleteVerifiedDestinationNumber",
        "sms-voice:DescribeAccountAttributes",
        "sms-voice:DescribeOptedOutNumbers",
        "sms-voice:DescribePhoneNumbers",
        "sms-voice:DescribeSpendLimits",
        "sms-voice:DescribeVerifiedDestinationNumbers",
        "sms-voice:SendDestinationNumberVerificationCode",
        "sms-voice:SendTextMessage",
        "sms-voice:SetTextMessageSpendLimitOverride",
        "sms-voice:VerifyDestinationNumber"
       ],
       "Condition": {
        "StringEquals": {
         "aws:CalledViaLast": "sns.amazonaws.com"
        }
       },
       "Effect": "Allow",
       "Resource": "*",
       "Sid": "SMSAccessViaSNS"
      },
      {
       "Action": [
        "execute-api:Invoke",
        "execute-api:ManageConnections"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:execute-api:*:*:*"
      },
      {
       "Action": [
        "application-autoscaling:DeleteScalingPolicy",
        "application-autoscaling:DeregisterScalableTarget",
        "application-autoscaling:DescribeScalableTargets",
        "application-autoscaling:DescribeScalingActivities",
        "application-autoscaling:DescribeScalingPolicies",
        "application-autoscaling:PutScalingPolicy",
        "application-autoscaling:RegisterScalableTarget",
        "cloudwatch:DeleteAlarms",
        "cloudwatch:DescribeAlarmHistory",
        "cloudwatch:DescribeAlarms",
        "cloudwatch:DescribeAlarmsForMetric",
        "cloudwatch:GetMetricData",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "cloudwatch:PutMetricAlarm",
        "datapipeline:ActivatePipeline",
        "datapipeline:CreatePipeline",
        "datapipeline:DeletePipeline",
        "datapipeline:DescribeObjects",
        "datapipeline:DescribePipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:ListPipelines",
        "datapipeline:PutPipelineDefinition",
        "datapipeline:QueryObjects",
        "dax:*",
        "dynamodb:*",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:GetRole",
        "iam:ListRoles",
        "kinesis:DescribeStream",
        "kinesis:DescribeStreamSummary",
        "kinesis:ListStreams",
        "kms:DescribeKey",
        "kms:ListAliases",
        "lambda:CreateEventSourceMapping",
        "lambda:CreateFunction",
        "lambda:DeleteEventSourceMapping",
        "lambda:DeleteFunction",
        "lambda:GetFunctionConfiguration",
        "lambda:ListEventSourceMappings",
        "lambda:ListFunctions",
        "resource-groups:CreateGroup",
        "resource-groups:DeleteGroup",
        "resource-groups:GetGroup",
        "resource-groups:GetGroupQuery",
        "resource-groups:ListGroupResources",
        "resource-groups:ListGroups",
        "sns:CreateTopic",
        "sns:DeleteTopic",
        "sns:ListSubscriptions",
        "sns:ListSubscriptionsByTopic",
        "sns:ListTopics",
        "sns:SetTopicAttributes",
        "sns:Subscribe",
        "sns:Unsubscribe",
        "tag:GetResources"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "cloudwatch:GetInsightRuleReport",
       "Effect": "Allow",
       "Resource": "arn:aws:cloudwatch:*:*:insight-rule/DynamoDBContributorInsights*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringLike": {
         "iam:PassedToService": [
          "application-autoscaling.amazonaws.com",
          "application-autoscaling.amazonaws.com.cn",
          "dax.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:CreateServiceLinkedRole",
       "Condition": {
        "StringEquals": {
         "iam:AWSServiceName": [
          "replication.dynamodb.amazonaws.com",
          "dax.amazonaws.com",
          "dynamodb.application-autoscaling.amazonaws.com",
          "contributorinsights.dynamodb.amazonaws.com",
          "kinesisreplication.dynamodb.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/smsChatIntegration:*"
      },
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Resource": "arn:aws:iam::514811724234:role/crossAccountPinpointAccess"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SmsChatIntegrationRoleDefaultPolicy28D66DB5",
    "Roles": [
     {
      "Ref": "SmsChatIntegrationRoleDDE00F4D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/SmsChatIntegrationRole/DefaultPolicy/Resource"
   }
  },
  "QueryAnalyticsStreamProcessorRole29A40FE9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Description": "Role for Query Analytics Stream Processor Lambda function",
    "RoleName": "query-analytics-stream-processor-role-ipnlblc1"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsStreamProcessorRole/Resource"
   }
  },
  "QueryAnalyticsStreamProcessorRoleDefaultPolicyC96B9CD2": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "application-autoscaling:DeleteScalingPolicy",
        "application-autoscaling:DeregisterScalableTarget",
        "application-autoscaling:DescribeScalableTargets",
        "application-autoscaling:DescribeScalingActivities",
        "application-autoscaling:DescribeScalingPolicies",
        "application-autoscaling:PutScalingPolicy",
        "application-autoscaling:RegisterScalableTarget",
        "cloudwatch:DeleteAlarms",
        "cloudwatch:DescribeAlarmHistory",
        "cloudwatch:DescribeAlarms",
        "cloudwatch:DescribeAlarmsForMetric",
        "cloudwatch:GetMetricData",
        "cloudwatch:GetMetricStatistics",
        "cloudwatch:ListMetrics",
        "cloudwatch:PutMetricAlarm",
        "datapipeline:ActivatePipeline",
        "datapipeline:CreatePipeline",
        "datapipeline:DeletePipeline",
        "datapipeline:DescribeObjects",
        "datapipeline:DescribePipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:ListPipelines",
        "datapipeline:PutPipelineDefinition",
        "datapipeline:QueryObjects",
        "dax:*",
        "dynamodb:*",
        "dynamodb:DescribeStream",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:ListStreams",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:GetRole",
        "iam:ListRoles",
        "kinesis:DescribeStream",
        "kinesis:DescribeStreamSummary",
        "kinesis:ListStreams",
        "kms:DescribeKey",
        "kms:ListAliases",
        "lambda:CreateEventSourceMapping",
        "lambda:CreateFunction",
        "lambda:DeleteEventSourceMapping",
        "lambda:DeleteFunction",
        "lambda:GetFunctionConfiguration",
        "lambda:ListEventSourceMappings",
        "lambda:ListFunctions",
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents",
        "resource-groups:CreateGroup",
        "resource-groups:DeleteGroup",
        "resource-groups:GetGroup",
        "resource-groups:GetGroupQuery",
        "resource-groups:ListGroupResources",
        "resource-groups:ListGroups",
        "sns:CreateTopic",
        "sns:DeleteTopic",
        "sns:ListSubscriptions",
        "sns:ListSubscriptionsByTopic",
        "sns:ListTopics",
        "sns:SetTopicAttributes",
        "sns:Subscribe",
        "sns:Unsubscribe",
        "tag:GetResources"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "cloudwatch:GetInsightRuleReport",
       "Effect": "Allow",
       "Resource": "arn:aws:cloudwatch:*:*:insight-rule/DynamoDBContributorInsights*"
      },
      {
       "Action": "iam:PassRole",
       "Condition": {
        "StringLike": {
         "iam:PassedToService": [
          "application-autoscaling.amazonaws.com",
          "application-autoscaling.amazonaws.com.cn",
          "dax.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:CreateServiceLinkedRole",
       "Condition": {
        "StringEquals": {
         "iam:AWSServiceName": [
          "replication.dynamodb.amazonaws.com",
          "dax.amazonaws.com",
          "dynamodb.application-autoscaling.amazonaws.com",
          "contributorinsights.dynamodb.amazonaws.com",
          "kinesisreplication.dynamodb.amazonaws.com"
         ]
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:*"
      },
      {
       "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": "arn:aws:logs:us-east-1:216989103356:log-group:/aws/lambda/query-analytics-stream-processor:*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "QueryAnalyticsStreamProcessorRoleDefaultPolicyC96B9CD2",
    "Roles": [
     {
      "Ref": "QueryAnalyticsStreamProcessorRole29A40FE9"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsStreamProcessorRole/DefaultPolicy/Resource"
   }
  },
  "ReferralChatbotLambdaFnC2AC6930": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "34fbe61d332def5ed46f03b8b18af2c0d23b262872b9b4363760763977e7bbcc.zip"
    },
    "FunctionName": "referralChatbotLambda",
    "Handler": "referralChatbotLambda.lambda_handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "ReferralChatbotRoleDD6FC688",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 900
   },
   "DependsOn": [
    "ReferralChatbotRoleDefaultPolicyA7AF46B4",
    "ReferralChatbotRoleDD6FC688"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotLambdaFn/Resource",
    "aws:asset:path": "asset.34fbe61d332def5ed46f03b8b18af2c0d23b262872b9b4363760763977e7bbcc",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ReferralChatbotLambdaFnAllowReferralChatbotAPIInvoke70FB3B94": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralChatbotLambdaFnC2AC6930",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralChatbotAPI978B0CF6"
       },
       "/*/POST/chat"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotLambdaFn/AllowReferralChatbotAPIInvoke"
   }
  },
  "ReferralChatbotLambdaFnAllowReferralChatbotWebSocketInvoke7F09DE1A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralChatbotLambdaFnC2AC6930",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralChatbotWebSocket4AF2CD48"
       },
       "/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotLambdaFn/AllowReferralChatbotWebSocketInvoke"
   }
  },
  "PerplexityLambdaFn263EE720": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "33f17f7e146f9310d97e07d255dcb51572ff2c9e46b4375d09c807901d6c466c.zip"
    },
    "Environment": {
     "Variables": {
      "PERPLEXITY_API_KEY": "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"
     }
    },
    "FunctionName": "perplexityLambda",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 2048,
    "Role": {
     "Fn::GetAtt": [
      "PerplexityLambdaRoleF29E6D66",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 900
   },
   "DependsOn": [
    "PerplexityLambdaRoleDefaultPolicyAE238026",
    "PerplexityLambdaRoleF29E6D66"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/PerplexityLambdaFn/Resource",
    "aws:asset:path": "asset.33f17f7e146f9310d97e07d255dcb51572ff2c9e46b4375d09c807901d6c466c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ProcessUserDataFn7B28A59E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "9aae2624a5c984317f6f4b92eb870531edad17a3d8462414d74840a19abc6908.zip"
    },
    "FunctionName": "ProcessUserData",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "ProcessUserDataRole3CAFEF38",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 900
   },
   "DependsOn": [
    "ProcessUserDataRoleDefaultPolicy552F74C9",
    "ProcessUserDataRole3CAFEF38"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ProcessUserDataFn/Resource",
    "aws:asset:path": "asset.9aae2624a5c984317f6f4b92eb870531edad17a3d8462414d74840a19abc6908",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ProcessUserDataFnAllowCreateUserAPIInvoke7D4B1E51": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "createUserC6ED88E6"
       },
       "/*/POST/addUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ProcessUserDataFn/AllowCreateUserAPIInvoke"
   }
  },
  "ProcessUserDataFnAllowUserFeedbackWebSocketInvoke5A8F919B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
       },
       "/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ProcessUserDataFn/AllowUserFeedbackWebSocketInvoke"
   }
  },
  "QueryAnalyticsApiFn482A67B8": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "69461598fb3247198837fcb7f6abf5ae72da2da1f59a596342acb1217dfa8085.zip"
    },
    "FunctionName": "query-analytics-api",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiRole4843455A",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 300
   },
   "DependsOn": [
    "QueryAnalyticsApiRoleDefaultPolicy554AC0DA",
    "QueryAnalyticsApiRole4843455A"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsApiFn/Resource",
    "aws:asset:path": "asset.69461598fb3247198837fcb7f6abf5ae72da2da1f59a596342acb1217dfa8085",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "QueryAnalyticsApiFnAllowQueryAnalyticsAPI1Invoke3DE1AA3B": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "QueryAnalyticsAPI12288DAE3"
       },
       "/*/POST/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsApiFn/AllowQueryAnalyticsAPI1Invoke"
   }
  },
  "QueryAnalyticsApiFnAllowQueryAnalyticsAPI2InvokeD5541736": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "QueryAnalyticsAPI2645EC6E1"
       },
       "/*/POST/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsApiFn/AllowQueryAnalyticsAPI2Invoke"
   }
  },
  "QueryAnalyticsApiFnAllowAnalyticsWebSocketInvoke209CEE7C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "AnalyticsWebSocketAPI8F36832A"
       },
       "/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsApiFn/AllowAnalyticsWebSocketInvoke"
   }
  },
  "ReferralsApiHandlerFn3A709788": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "7e051c5cc5b84b79a1158b258b7b4b7aa48b29c566ac5e15bda8442688e1af47.zip"
    },
    "FunctionName": "ReferralsApiHandler",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerRoleEF1D513A",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 300
   },
   "DependsOn": [
    "ReferralsApiHandlerRoleDefaultPolicy33785ED8",
    "ReferralsApiHandlerRoleEF1D513A"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApiHandlerFn/Resource",
    "aws:asset:path": "asset.7e051c5cc5b84b79a1158b258b7b4b7aa48b29c566ac5e15bda8442688e1af47",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ReferralsApiHandlerFnAllowReferralsAPIInvokeC339AA31": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApiHandlerFn/AllowReferralsAPIInvoke"
   }
  },
  "ReferralsApiHandlerFnAllowReferralsWebSocketInvokeC5473DE4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsWebSocketAPI16F9DC58"
       },
       "/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApiHandlerFn/AllowReferralsWebSocketInvoke"
   }
  },
  "QueryAnalyticsBackfillFn3DEFB3EC": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "42d0c33567c00774d42c966192d7f3d5e39882a4138854a69c9ed190cabdac62.zip"
    },
    "FunctionName": "query-analytics-backfill",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "QueryAnalyticsBackfillRole4F8F73C6",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 900
   },
   "DependsOn": [
    "QueryAnalyticsBackfillRoleDefaultPolicy3EAE125F",
    "QueryAnalyticsBackfillRole4F8F73C6"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsBackfillFn/Resource",
    "aws:asset:path": "asset.42d0c33567c00774d42c966192d7f3d5e39882a4138854a69c9ed190cabdac62",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SmsChatIntegrationFnE64E832B": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "94108f5d8c554625e61bbdad7e68f540b64710394c097963d090a131d270704c.zip"
    },
    "Environment": {
     "Variables": {
      "USER_TABLE_NAME": "user_data",
      "LOGIN_URL": "https://www.google.com/",
      "PINPOINT_APPLICATION_ID": "38a47a3f1a734353a4621a2cf90ada0c",
      "API_GATEWAY_URL": "https://pncxzrq0r9.execute-api.us-east-1.amazonaws.com/dev/chat",
      "HTTP_TIMEOUT": "60",
      "REGISTRATION_URL": "https://www.google.com/"
     }
    },
    "FunctionName": "smsChatIntegration",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 2048,
    "Role": {
     "Fn::GetAtt": [
      "SmsChatIntegrationRoleDDE00F4D",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 300
   },
   "DependsOn": [
    "SmsChatIntegrationRoleDefaultPolicy28D66DB5",
    "SmsChatIntegrationRoleDDE00F4D"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/SmsChatIntegrationFn/Resource",
    "aws:asset:path": "asset.94108f5d8c554625e61bbdad7e68f540b64710394c097963d090a131d270704c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SmsChatIntegrationFnAllowSNSInvokeE20E0893": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SmsChatIntegrationFnE64E832B",
      "Arn"
     ]
    },
    "Principal": "sns.amazonaws.com",
    "SourceArn": "arn:aws:sns:us-east-1:514811724234:PinpointV3Stack-responselambdatwoWaySMStopicC0D976B7-ntcREJoZGzuH"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/SmsChatIntegrationFn/AllowSNSInvoke"
   }
  },
  "QueryAnalyticsStreamProcessorFnD029B018": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-216989103356-us-east-1",
     "S3Key": "749545b83e77f2dcd364b29a492cf6d016eb00d279a66e132edc975f3d020506.zip"
    },
    "FunctionName": "query-analytics-stream-processor",
    "Handler": "lambda_function.lambda_handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "QueryAnalyticsStreamProcessorRole29A40FE9",
      "Arn"
     ]
    },
    "Runtime": "python3.12",
    "Timeout": 300
   },
   "DependsOn": [
    "QueryAnalyticsStreamProcessorRoleDefaultPolicyC96B9CD2",
    "QueryAnalyticsStreamProcessorRole29A40FE9"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsStreamProcessorFn/Resource",
    "aws:asset:path": "asset.749545b83e77f2dcd364b29a492cf6d016eb00d279a66e132edc975f3d020506",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "QueryAnalyticsStreamProcessorFnUserDataStreamMapping1704D309": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "BatchSize": 100,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "userdataTableB31622A0",
      "StreamArn"
     ]
    },
    "FunctionName": {
     "Ref": "QueryAnalyticsStreamProcessorFnD029B018"
    },
    "MaximumRetryAttempts": 0,
    "ParallelizationFactor": 1,
    "StartingPosition": "LATEST"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsStreamProcessorFn/UserDataStreamMapping/Resource"
   }
  },
  "UserDashboardAPIAB9DEF4E": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "User Dashboard API",
    "Name": "UserDashboardAPI"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Resource"
   }
  },
  "UserDashboardAPIDeployment08723AE8d525e3d35002b79a30811f17fc988245": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "User Dashboard API",
    "RestApiId": {
     "Ref": "UserDashboardAPIAB9DEF4E"
    }
   },
   "DependsOn": [
    "UserDashboardAPIdashboardGETF7865FD6",
    "UserDashboardAPIdashboardOPTIONSF14C5D41",
    "UserDashboardAPIdashboard666C7B40",
    "UserDashboardAPIOPTIONS71B2EA2B"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Deployment/Resource"
   }
  },
  "UserDashboardAPIDeploymentStagedev64521116": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "UserDashboardAPIDeployment08723AE8d525e3d35002b79a30811f17fc988245"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "UserDashboardAPIAB9DEF4E"
    },
    "StageName": "dev"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/DeploymentStage.dev/Resource"
   }
  },
  "UserDashboardAPIOPTIONS71B2EA2B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "UserDashboardAPIAB9DEF4E",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "UserDashboardAPIAB9DEF4E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Default/OPTIONS/Resource"
   }
  },
  "UserDashboardAPIdashboard666C7B40": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "UserDashboardAPIAB9DEF4E",
      "RootResourceId"
     ]
    },
    "PathPart": "dashboard",
    "RestApiId": {
     "Ref": "UserDashboardAPIAB9DEF4E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Default/dashboard/Resource"
   }
  },
  "UserDashboardAPIdashboardOPTIONSF14C5D41": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "UserDashboardAPIdashboard666C7B40"
    },
    "RestApiId": {
     "Ref": "UserDashboardAPIAB9DEF4E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Default/dashboard/OPTIONS/Resource"
   }
  },
  "UserDashboardAPIdashboardGETApiPermissionBrightpointStackUserDashboardAPI8F1A9ABCGETdashboardDFF5A5D2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "UserDashboardAPIAB9DEF4E"
       },
       "/",
       {
        "Ref": "UserDashboardAPIDeploymentStagedev64521116"
       },
       "/GET/dashboard"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Default/dashboard/GET/ApiPermission.BrightpointStackUserDashboardAPI8F1A9ABC.GET..dashboard"
   }
  },
  "UserDashboardAPIdashboardGETApiPermissionTestBrightpointStackUserDashboardAPI8F1A9ABCGETdashboardB54CBC29": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "UserDashboardAPIAB9DEF4E"
       },
       "/test-invoke-stage/GET/dashboard"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Default/dashboard/GET/ApiPermission.Test.BrightpointStackUserDashboardAPI8F1A9ABC.GET..dashboard"
   }
  },
  "UserDashboardAPIdashboardGETF7865FD6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ProcessUserDataFn7B28A59E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "UserDashboardAPIdashboard666C7B40"
    },
    "RestApiId": {
     "Ref": "UserDashboardAPIAB9DEF4E"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserDashboardAPI/Default/dashboard/GET/Resource"
   }
  },
  "QueryAnalyticsAPI12288DAE3": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "Query Analytics API - All",
    "Name": "QueryAnalyticsAPI"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Resource"
   }
  },
  "QueryAnalyticsAPI1Deployment9BBE6C31ebf2bb58447b46ed669f5685b8f1da65": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Query Analytics API - All",
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "DependsOn": [
    "QueryAnalyticsAPI1analyticsallOPTIONS366A897D",
    "QueryAnalyticsAPI1analyticsallPOST19C61C9E",
    "QueryAnalyticsAPI1analyticsall1EAB5259",
    "QueryAnalyticsAPI1analyticsOPTIONSFC6165D4",
    "QueryAnalyticsAPI1analytics225CDDD9",
    "QueryAnalyticsAPI1OPTIONSE69B27B3"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Deployment/Resource"
   }
  },
  "QueryAnalyticsAPI1DeploymentStagedev1A1FE02C": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "QueryAnalyticsAPI1Deployment9BBE6C31ebf2bb58447b46ed669f5685b8f1da65"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    },
    "StageName": "dev"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/DeploymentStage.dev/Resource"
   }
  },
  "QueryAnalyticsAPI1OPTIONSE69B27B3": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "QueryAnalyticsAPI12288DAE3",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/OPTIONS/Resource"
   }
  },
  "QueryAnalyticsAPI1analytics225CDDD9": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "QueryAnalyticsAPI12288DAE3",
      "RootResourceId"
     ]
    },
    "PathPart": "analytics",
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/Resource"
   }
  },
  "QueryAnalyticsAPI1analyticsOPTIONSFC6165D4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "QueryAnalyticsAPI1analytics225CDDD9"
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/OPTIONS/Resource"
   }
  },
  "QueryAnalyticsAPI1analyticsall1EAB5259": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "QueryAnalyticsAPI1analytics225CDDD9"
    },
    "PathPart": "all",
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/all/Resource"
   }
  },
  "QueryAnalyticsAPI1analyticsallOPTIONS366A897D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "QueryAnalyticsAPI1analyticsall1EAB5259"
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/all/OPTIONS/Resource"
   }
  },
  "QueryAnalyticsAPI1analyticsallPOSTApiPermissionBrightpointStackQueryAnalyticsAPI1D2764603POSTanalyticsall492CA30D": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "QueryAnalyticsAPI12288DAE3"
       },
       "/",
       {
        "Ref": "QueryAnalyticsAPI1DeploymentStagedev1A1FE02C"
       },
       "/POST/analytics/all"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/all/POST/ApiPermission.BrightpointStackQueryAnalyticsAPI1D2764603.POST..analytics.all"
   }
  },
  "QueryAnalyticsAPI1analyticsallPOSTApiPermissionTestBrightpointStackQueryAnalyticsAPI1D2764603POSTanalyticsall942C6CFF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "QueryAnalyticsAPI12288DAE3"
       },
       "/test-invoke-stage/POST/analytics/all"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/all/POST/ApiPermission.Test.BrightpointStackQueryAnalyticsAPI1D2764603.POST..analytics.all"
   }
  },
  "QueryAnalyticsAPI1analyticsallPOST19C61C9E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "QueryAnalyticsApiFn482A67B8",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "QueryAnalyticsAPI1analyticsall1EAB5259"
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI12288DAE3"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI1/Default/analytics/all/POST/Resource"
   }
  },
  "QueryAnalyticsAPI2645EC6E1": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "Query Analytics API - Queries",
    "Name": "QueryAnalyticsAPI"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Resource"
   }
  },
  "QueryAnalyticsAPI2Deployment458DEAB4ca28d39eaadfd0b9490f8a3ba0c7a96c": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Query Analytics API - Queries",
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "DependsOn": [
    "QueryAnalyticsAPI2analyticsOPTIONS3EAA0234",
    "QueryAnalyticsAPI2analyticsqueriesOPTIONS383E974A",
    "QueryAnalyticsAPI2analyticsqueriesPOSTEFD9A8C7",
    "QueryAnalyticsAPI2analyticsqueries99C84E2D",
    "QueryAnalyticsAPI2analytics0FAD754F",
    "QueryAnalyticsAPI2OPTIONSED42EE57"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Deployment/Resource"
   }
  },
  "QueryAnalyticsAPI2DeploymentStagedev3CEBBE56": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "QueryAnalyticsAPI2Deployment458DEAB4ca28d39eaadfd0b9490f8a3ba0c7a96c"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    },
    "StageName": "dev"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/DeploymentStage.dev/Resource"
   }
  },
  "QueryAnalyticsAPI2OPTIONSED42EE57": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "QueryAnalyticsAPI2645EC6E1",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/OPTIONS/Resource"
   }
  },
  "QueryAnalyticsAPI2analytics0FAD754F": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "QueryAnalyticsAPI2645EC6E1",
      "RootResourceId"
     ]
    },
    "PathPart": "analytics",
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/Resource"
   }
  },
  "QueryAnalyticsAPI2analyticsOPTIONS3EAA0234": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "QueryAnalyticsAPI2analytics0FAD754F"
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/OPTIONS/Resource"
   }
  },
  "QueryAnalyticsAPI2analyticsqueries99C84E2D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "QueryAnalyticsAPI2analytics0FAD754F"
    },
    "PathPart": "queries",
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/queries/Resource"
   }
  },
  "QueryAnalyticsAPI2analyticsqueriesOPTIONS383E974A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "QueryAnalyticsAPI2analyticsqueries99C84E2D"
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/queries/OPTIONS/Resource"
   }
  },
  "QueryAnalyticsAPI2analyticsqueriesPOSTApiPermissionBrightpointStackQueryAnalyticsAPI25B2309C2POSTanalyticsqueries700B38E4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "QueryAnalyticsAPI2645EC6E1"
       },
       "/",
       {
        "Ref": "QueryAnalyticsAPI2DeploymentStagedev3CEBBE56"
       },
       "/POST/analytics/queries"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/queries/POST/ApiPermission.BrightpointStackQueryAnalyticsAPI25B2309C2.POST..analytics.queries"
   }
  },
  "QueryAnalyticsAPI2analyticsqueriesPOSTApiPermissionTestBrightpointStackQueryAnalyticsAPI25B2309C2POSTanalyticsqueries3DC0F342": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "QueryAnalyticsAPI2645EC6E1"
       },
       "/test-invoke-stage/POST/analytics/queries"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/queries/POST/ApiPermission.Test.BrightpointStackQueryAnalyticsAPI25B2309C2.POST..analytics.queries"
   }
  },
  "QueryAnalyticsAPI2analyticsqueriesPOSTEFD9A8C7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "QueryAnalyticsApiFn482A67B8",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "QueryAnalyticsAPI2analyticsqueries99C84E2D"
    },
    "RestApiId": {
     "Ref": "QueryAnalyticsAPI2645EC6E1"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/QueryAnalyticsAPI2/Default/analytics/queries/POST/Resource"
   }
  },
  "createUserC6ED88E6": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "Create User API",
    "Name": "createUser"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Resource"
   }
  },
  "createUserDeployment294A82B4674db9ecbb8c12884e42f08a1e3dbbba": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Create User API",
    "RestApiId": {
     "Ref": "createUserC6ED88E6"
    }
   },
   "DependsOn": [
    "createUseraddUserOPTIONSC13FE992",
    "createUseraddUserPOSTB281B83C",
    "createUseraddUser409049C7",
    "createUserOPTIONS2ACEF464"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Deployment/Resource"
   }
  },
  "createUserDeploymentStageprodB444363F": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "createUserDeployment294A82B4674db9ecbb8c12884e42f08a1e3dbbba"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "createUserC6ED88E6"
    },
    "StageName": "prod"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/DeploymentStage.prod/Resource"
   }
  },
  "createUserOPTIONS2ACEF464": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "createUserC6ED88E6",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "createUserC6ED88E6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Default/OPTIONS/Resource"
   }
  },
  "createUseraddUser409049C7": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "createUserC6ED88E6",
      "RootResourceId"
     ]
    },
    "PathPart": "addUser",
    "RestApiId": {
     "Ref": "createUserC6ED88E6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Default/addUser/Resource"
   }
  },
  "createUseraddUserOPTIONSC13FE992": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "createUseraddUser409049C7"
    },
    "RestApiId": {
     "Ref": "createUserC6ED88E6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Default/addUser/OPTIONS/Resource"
   }
  },
  "createUseraddUserPOSTApiPermissionBrightpointStackcreateUser8E31034EPOSTaddUserC1A1A020": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "createUserC6ED88E6"
       },
       "/",
       {
        "Ref": "createUserDeploymentStageprodB444363F"
       },
       "/POST/addUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Default/addUser/POST/ApiPermission.BrightpointStackcreateUser8E31034E.POST..addUser"
   }
  },
  "createUseraddUserPOSTApiPermissionTestBrightpointStackcreateUser8E31034EPOSTaddUserDEBD9AF5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "createUserC6ED88E6"
       },
       "/test-invoke-stage/POST/addUser"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Default/addUser/POST/ApiPermission.Test.BrightpointStackcreateUser8E31034E.POST..addUser"
   }
  },
  "createUseraddUserPOSTB281B83C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ProcessUserDataFn7B28A59E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "createUseraddUser409049C7"
    },
    "RestApiId": {
     "Ref": "createUserC6ED88E6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/createUser/Default/addUser/POST/Resource"
   }
  },
  "ReferralChatbotAPI978B0CF6": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "Referral Chatbot API",
    "Name": "ReferralChatbotAPI"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Resource"
   }
  },
  "ReferralChatbotAPIDeployment8513055E6fd6624dd67f2c6b5706ebc50dee992b": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Referral Chatbot API",
    "RestApiId": {
     "Ref": "ReferralChatbotAPI978B0CF6"
    }
   },
   "DependsOn": [
    "ReferralChatbotAPIchatOPTIONS4EC29376",
    "ReferralChatbotAPIchatPOST91996584",
    "ReferralChatbotAPIchat9ADE8AE5",
    "ReferralChatbotAPIOPTIONSE67E5B0D"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Deployment/Resource"
   }
  },
  "ReferralChatbotAPIDeploymentStageprodA5FE4FD3": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "ReferralChatbotAPIDeployment8513055E6fd6624dd67f2c6b5706ebc50dee992b"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "ReferralChatbotAPI978B0CF6"
    },
    "StageName": "prod"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/DeploymentStage.prod/Resource"
   }
  },
  "ReferralChatbotAPIOPTIONSE67E5B0D": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "ReferralChatbotAPI978B0CF6",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "ReferralChatbotAPI978B0CF6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Default/OPTIONS/Resource"
   }
  },
  "ReferralChatbotAPIchat9ADE8AE5": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ReferralChatbotAPI978B0CF6",
      "RootResourceId"
     ]
    },
    "PathPart": "chat",
    "RestApiId": {
     "Ref": "ReferralChatbotAPI978B0CF6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Default/chat/Resource"
   }
  },
  "ReferralChatbotAPIchatOPTIONS4EC29376": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ReferralChatbotAPIchat9ADE8AE5"
    },
    "RestApiId": {
     "Ref": "ReferralChatbotAPI978B0CF6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Default/chat/OPTIONS/Resource"
   }
  },
  "ReferralChatbotAPIchatPOSTApiPermissionBrightpointStackReferralChatbotAPI81602B2DPOSTchatE2A30A45": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralChatbotLambdaFnC2AC6930",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralChatbotAPI978B0CF6"
       },
       "/",
       {
        "Ref": "ReferralChatbotAPIDeploymentStageprodA5FE4FD3"
       },
       "/POST/chat"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Default/chat/POST/ApiPermission.BrightpointStackReferralChatbotAPI81602B2D.POST..chat"
   }
  },
  "ReferralChatbotAPIchatPOSTApiPermissionTestBrightpointStackReferralChatbotAPI81602B2DPOSTchat3B869A9E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralChatbotLambdaFnC2AC6930",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralChatbotAPI978B0CF6"
       },
       "/test-invoke-stage/POST/chat"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Default/chat/POST/ApiPermission.Test.BrightpointStackReferralChatbotAPI81602B2D.POST..chat"
   }
  },
  "ReferralChatbotAPIchatPOST91996584": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralChatbotLambdaFnC2AC6930",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralChatbotAPIchat9ADE8AE5"
    },
    "RestApiId": {
     "Ref": "ReferralChatbotAPI978B0CF6"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotAPI/Default/chat/POST/Resource"
   }
  },
  "ReferralsApi2C829B6C": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "Referrals API",
    "Name": "ReferralsApi"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Resource"
   }
  },
  "ReferralsApiDeploymentA431722E7c9dcbb869859e17963fb83d835ea234": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Referrals API",
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "DependsOn": [
    "ReferralsApiOPTIONS8AC6CF1A",
    "ReferralsApireferralsreferralidDELETE835878DD",
    "ReferralsApireferralsreferralidGET56872033",
    "ReferralsApireferralsreferralidOPTIONSBA49BC3A",
    "ReferralsApireferralsreferralidPOSTD840CDC0",
    "ReferralsApireferralsreferralidPUT484F166A",
    "ReferralsApireferralsreferralid9613265A",
    "ReferralsApireferralsDELETE5952DBE9",
    "ReferralsApireferralsGET7252075C",
    "ReferralsApireferralsOPTIONS0134053C",
    "ReferralsApireferralsPOST8D1840E1",
    "ReferralsApireferralsPUTEF7CAA7B",
    "ReferralsApireferrals474AEC2E",
    "ReferralsApireferralssearchOPTIONS3AF616CC",
    "ReferralsApireferralssearchPOSTFDD98591",
    "ReferralsApireferralssearch49B1FEDC"
   ],
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Deployment/Resource"
   }
  },
  "ReferralsApiDeploymentStagedevB7A09FAC": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "ReferralsApiDeploymentA431722E7c9dcbb869859e17963fb83d835ea234"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    },
    "StageName": "dev"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/DeploymentStage.dev/Resource"
   }
  },
  "ReferralsApiOPTIONS8AC6CF1A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "ReferralsApi2C829B6C",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/OPTIONS/Resource"
   }
  },
  "ReferralsApireferrals474AEC2E": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ReferralsApi2C829B6C",
      "RootResourceId"
     ]
    },
    "PathPart": "referrals",
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/Resource"
   }
  },
  "ReferralsApireferralsOPTIONS0134053C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/OPTIONS/Resource"
   }
  },
  "ReferralsApireferralsDELETEApiPermissionBrightpointStackReferralsApiED5D6736DELETEreferrals8B2B20E0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/DELETE/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/DELETE/ApiPermission.BrightpointStackReferralsApiED5D6736.DELETE..referrals"
   }
  },
  "ReferralsApireferralsDELETEApiPermissionTestBrightpointStackReferralsApiED5D6736DELETEreferralsE2D82AC9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/DELETE/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/DELETE/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.DELETE..referrals"
   }
  },
  "ReferralsApireferralsDELETE5952DBE9": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/DELETE/Resource"
   }
  },
  "ReferralsApireferralsGETApiPermissionBrightpointStackReferralsApiED5D6736GETreferrals8BA069F8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/GET/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/GET/ApiPermission.BrightpointStackReferralsApiED5D6736.GET..referrals"
   }
  },
  "ReferralsApireferralsGETApiPermissionTestBrightpointStackReferralsApiED5D6736GETreferralsC4854364": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/GET/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/GET/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.GET..referrals"
   }
  },
  "ReferralsApireferralsGET7252075C": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/GET/Resource"
   }
  },
  "ReferralsApireferralsPOSTApiPermissionBrightpointStackReferralsApiED5D6736POSTreferrals4C2D7D4F": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/POST/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/POST/ApiPermission.BrightpointStackReferralsApiED5D6736.POST..referrals"
   }
  },
  "ReferralsApireferralsPOSTApiPermissionTestBrightpointStackReferralsApiED5D6736POSTreferralsD9AA8B7A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/POST/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/POST/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.POST..referrals"
   }
  },
  "ReferralsApireferralsPOST8D1840E1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/POST/Resource"
   }
  },
  "ReferralsApireferralsPUTApiPermissionBrightpointStackReferralsApiED5D6736PUTreferrals6F4BBF60": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/PUT/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/PUT/ApiPermission.BrightpointStackReferralsApiED5D6736.PUT..referrals"
   }
  },
  "ReferralsApireferralsPUTApiPermissionTestBrightpointStackReferralsApiED5D6736PUTreferralsDF4FAFA2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/PUT/referrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/PUT/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.PUT..referrals"
   }
  },
  "ReferralsApireferralsPUTEF7CAA7B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/PUT/Resource"
   }
  },
  "ReferralsApireferralsreferralid9613265A": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "PathPart": "{referral_id}",
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/Resource"
   }
  },
  "ReferralsApireferralsreferralidOPTIONSBA49BC3A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ReferralsApireferralsreferralid9613265A"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/OPTIONS/Resource"
   }
  },
  "ReferralsApireferralsreferralidDELETEApiPermissionBrightpointStackReferralsApiED5D6736DELETEreferralsreferralid26447AEA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/DELETE/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/DELETE/ApiPermission.BrightpointStackReferralsApiED5D6736.DELETE..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidDELETEApiPermissionTestBrightpointStackReferralsApiED5D6736DELETEreferralsreferralid6899B0A2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/DELETE/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/DELETE/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.DELETE..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidDELETE835878DD": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "DELETE",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferralsreferralid9613265A"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/DELETE/Resource"
   }
  },
  "ReferralsApireferralsreferralidGETApiPermissionBrightpointStackReferralsApiED5D6736GETreferralsreferralid0C431D0C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/GET/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/GET/ApiPermission.BrightpointStackReferralsApiED5D6736.GET..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidGETApiPermissionTestBrightpointStackReferralsApiED5D6736GETreferralsreferralid9778BC45": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/GET/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/GET/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.GET..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidGET56872033": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferralsreferralid9613265A"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/GET/Resource"
   }
  },
  "ReferralsApireferralsreferralidPOSTApiPermissionBrightpointStackReferralsApiED5D6736POSTreferralsreferralidF41644E6": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/POST/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/POST/ApiPermission.BrightpointStackReferralsApiED5D6736.POST..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidPOSTApiPermissionTestBrightpointStackReferralsApiED5D6736POSTreferralsreferralidC7F9F039": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/POST/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/POST/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.POST..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidPOSTD840CDC0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferralsreferralid9613265A"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/POST/Resource"
   }
  },
  "ReferralsApireferralsreferralidPUTApiPermissionBrightpointStackReferralsApiED5D6736PUTreferralsreferralid7E51E6AB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/PUT/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/PUT/ApiPermission.BrightpointStackReferralsApiED5D6736.PUT..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidPUTApiPermissionTestBrightpointStackReferralsApiED5D6736PUTreferralsreferralid087F2384": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/PUT/referrals/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/PUT/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.PUT..referrals.{referral_id}"
   }
  },
  "ReferralsApireferralsreferralidPUT484F166A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferralsreferralid9613265A"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/{referral_id}/PUT/Resource"
   }
  },
  "ReferralsApireferralssearch49B1FEDC": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ReferralsApireferrals474AEC2E"
    },
    "PathPart": "search",
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/search/Resource"
   }
  },
  "ReferralsApireferralssearchOPTIONS3AF616CC": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ReferralsApireferralssearch49B1FEDC"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/search/OPTIONS/Resource"
   }
  },
  "ReferralsApireferralssearchPOSTApiPermissionBrightpointStackReferralsApiED5D6736POSTreferralssearch26FD71C9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/",
       {
        "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
       },
       "/POST/referrals/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/search/POST/ApiPermission.BrightpointStackReferralsApiED5D6736.POST..referrals.search"
   }
  },
  "ReferralsApireferralssearchPOSTApiPermissionTestBrightpointStackReferralsApiED5D6736POSTreferralssearch84184836": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsApi2C829B6C"
       },
       "/test-invoke-stage/POST/referrals/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/search/POST/ApiPermission.Test.BrightpointStackReferralsApiED5D6736.POST..referrals.search"
   }
  },
  "ReferralsApireferralssearchPOSTFDD98591": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ReferralsApiHandlerFn3A709788",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ReferralsApireferralssearch49B1FEDC"
    },
    "RestApiId": {
     "Ref": "ReferralsApi2C829B6C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsApi/Default/referrals/search/POST/Resource"
   }
  },
  "AnalyticsWebSocketAPI8F36832A": {
   "Type": "AWS::ApiGatewayV2::Api",
   "Properties": {
    "Description": "Analytics WebSocket API",
    "Name": "AnalyticsWebSocketAPI",
    "ProtocolType": "WEBSOCKET",
    "RouteSelectionExpression": "$request.body.action"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/Resource"
   }
  },
  "AnalyticsWebSocketAPIdefaultRouteAnalyticsWebSocketAPIIntegrationPermission4ACE18C1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "QueryAnalyticsApiFn482A67B8",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "AnalyticsWebSocketAPI8F36832A"
       },
       "/*$default"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/$default-Route/AnalyticsWebSocketAPIIntegration-Permission"
   }
  },
  "AnalyticsWebSocketAPIdefaultRouteAnalyticsWebSocketAPIIntegration144B87CC": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "AnalyticsWebSocketAPI8F36832A"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::Join": [
      "",
      [
       "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
       {
        "Fn::GetAtt": [
         "QueryAnalyticsApiFn482A67B8",
         "Arn"
        ]
       },
       "/invocations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/$default-Route/AnalyticsWebSocketAPIIntegration/Resource"
   }
  },
  "AnalyticsWebSocketAPIdefaultRoute50828D5C": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "AnalyticsWebSocketAPI8F36832A"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$default",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "AnalyticsWebSocketAPIdefaultRouteAnalyticsWebSocketAPIIntegration144B87CC"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/$default-Route/Resource"
   }
  },
  "AnalyticsWebSocketAPIconnectRouteC2AEBBD1": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "AnalyticsWebSocketAPI8F36832A"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$connect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "AnalyticsWebSocketAPIdefaultRouteAnalyticsWebSocketAPIIntegration144B87CC"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/$connect-Route/Resource"
   }
  },
  "AnalyticsWebSocketAPIgetAnalyticsRouteCC3BBB2A": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "AnalyticsWebSocketAPI8F36832A"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "getAnalytics",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "AnalyticsWebSocketAPIdefaultRouteAnalyticsWebSocketAPIIntegration144B87CC"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/getAnalytics-Route/Resource"
   }
  },
  "AnalyticsWebSocketAPIdisconnectRoute2F99D150": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "AnalyticsWebSocketAPI8F36832A"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$disconnect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "AnalyticsWebSocketAPIdefaultRouteAnalyticsWebSocketAPIIntegration144B87CC"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPI/$disconnect-Route/Resource"
   }
  },
  "AnalyticsWebSocketAPIStage1986798F": {
   "Type": "AWS::ApiGatewayV2::Stage",
   "Properties": {
    "ApiId": {
     "Ref": "AnalyticsWebSocketAPI8F36832A"
    },
    "AutoDeploy": true,
    "StageName": "dev"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/AnalyticsWebSocketAPIStage/Resource"
   }
  },
  "ReferralChatbotWebSocket4AF2CD48": {
   "Type": "AWS::ApiGatewayV2::Api",
   "Properties": {
    "Description": "Referral Chatbot WebSocket API",
    "Name": "ReferralChatbotWebSocket",
    "ProtocolType": "WEBSOCKET",
    "RouteSelectionExpression": "$request.body.action"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocket/Resource"
   }
  },
  "ReferralChatbotWebSocketconnectRouteReferralChatbotWebSocketIntegrationPermission6E6266AE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralChatbotLambdaFnC2AC6930",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralChatbotWebSocket4AF2CD48"
       },
       "/*$connect"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocket/$connect-Route/ReferralChatbotWebSocketIntegration-Permission"
   }
  },
  "ReferralChatbotWebSocketconnectRouteReferralChatbotWebSocketIntegration775808E2": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralChatbotWebSocket4AF2CD48"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::Join": [
      "",
      [
       "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
       {
        "Fn::GetAtt": [
         "ReferralChatbotLambdaFnC2AC6930",
         "Arn"
        ]
       },
       "/invocations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocket/$connect-Route/ReferralChatbotWebSocketIntegration/Resource"
   }
  },
  "ReferralChatbotWebSocketconnectRoute03BAA996": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralChatbotWebSocket4AF2CD48"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$connect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralChatbotWebSocketconnectRouteReferralChatbotWebSocketIntegration775808E2"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocket/$connect-Route/Resource"
   }
  },
  "ReferralChatbotWebSocketqueryRoute794307B9": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralChatbotWebSocket4AF2CD48"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "query",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralChatbotWebSocketconnectRouteReferralChatbotWebSocketIntegration775808E2"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocket/query-Route/Resource"
   }
  },
  "ReferralChatbotWebSocketdisconnectRoute85C7C19F": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralChatbotWebSocket4AF2CD48"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$disconnect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralChatbotWebSocketconnectRouteReferralChatbotWebSocketIntegration775808E2"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocket/$disconnect-Route/Resource"
   }
  },
  "ReferralChatbotWebSocketStageDFA7809E": {
   "Type": "AWS::ApiGatewayV2::Stage",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralChatbotWebSocket4AF2CD48"
    },
    "AutoDeploy": true,
    "StageName": "prod"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralChatbotWebSocketStage/Resource"
   }
  },
  "UserFeedbackWebSocketAPIAC8C1AA7": {
   "Type": "AWS::ApiGatewayV2::Api",
   "Properties": {
    "Description": "User Feedback WebSocket API",
    "Name": "UserFeedbackWebSocketAPI",
    "ProtocolType": "WEBSOCKET",
    "RouteSelectionExpression": "$request.body.action"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/Resource"
   }
  },
  "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegrationPermissionCE35B8E0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ProcessUserDataFn7B28A59E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
       },
       "/*$disconnect"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/$disconnect-Route/UserFeedbackWebSocketAPIIntegration-Permission"
   }
  },
  "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegration60BE7FA5": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::Join": [
      "",
      [
       "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
       {
        "Fn::GetAtt": [
         "ProcessUserDataFn7B28A59E",
         "Arn"
        ]
       },
       "/invocations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/$disconnect-Route/UserFeedbackWebSocketAPIIntegration/Resource"
   }
  },
  "UserFeedbackWebSocketAPIdisconnectRoute804B2C8D": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$disconnect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegration60BE7FA5"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/$disconnect-Route/Resource"
   }
  },
  "UserFeedbackWebSocketAPIsendFeedbackRoute20CA2685": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "sendFeedback",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegration60BE7FA5"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/sendFeedback-Route/Resource"
   }
  },
  "UserFeedbackWebSocketAPIupdateUserRoute3D06DBCE": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "updateUser",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegration60BE7FA5"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/updateUser-Route/Resource"
   }
  },
  "UserFeedbackWebSocketAPIgetUserRoute8AD42F0A": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "getUser",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegration60BE7FA5"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/getUser-Route/Resource"
   }
  },
  "UserFeedbackWebSocketAPIconnectRoute86B2CC12": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$connect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "UserFeedbackWebSocketAPIdisconnectRouteUserFeedbackWebSocketAPIIntegration60BE7FA5"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPI/$connect-Route/Resource"
   }
  },
  "UserFeedbackWebSocketAPIStageB2561EC0": {
   "Type": "AWS::ApiGatewayV2::Stage",
   "Properties": {
    "ApiId": {
     "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
    },
    "AutoDeploy": true,
    "StageName": "prod"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/UserFeedbackWebSocketAPIStage/Resource"
   }
  },
  "ReferralsWebSocketAPI16F9DC58": {
   "Type": "AWS::ApiGatewayV2::Api",
   "Properties": {
    "Description": "Referrals WebSocket API",
    "Name": "ReferralsWebSocketAPI",
    "ProtocolType": "WEBSOCKET",
    "RouteSelectionExpression": "$request.body.action"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/Resource"
   }
  },
  "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationPermission18593FB8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ReferralsApiHandlerFn3A709788",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:216989103356:",
       {
        "Ref": "ReferralsWebSocketAPI16F9DC58"
       },
       "/*getReferrals"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/getReferrals-Route/ReferralsWebSocketAPIIntegration-Permission"
   }
  },
  "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::Join": [
      "",
      [
       "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
       {
        "Fn::GetAtt": [
         "ReferralsApiHandlerFn3A709788",
         "Arn"
        ]
       },
       "/invocations"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/getReferrals-Route/ReferralsWebSocketAPIIntegration/Resource"
   }
  },
  "ReferralsWebSocketAPIgetReferralsRoute836E7A4F": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "getReferrals",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/getReferrals-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIconnectRoute11251B98": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$connect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/$connect-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIcreateReferralRoute43444E49": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "createReferral",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/createReferral-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIsearchReferralsRoute55186394": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "searchReferrals",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/searchReferrals-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIdefaultRouteD510CF0A": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$default",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/$default-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIupdateReferralRoute53E4FD77": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "updateReferral",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/updateReferral-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIdisconnectRoute21707849": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "$disconnect",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/$disconnect-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIdeleteReferralRoute4D249A16": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "deleteReferral",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/deleteReferral-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIgetReferralRouteFE5843E1": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "getReferral",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "ReferralsWebSocketAPIgetReferralsRouteReferralsWebSocketAPIIntegrationBEF4E322"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPI/getReferral-Route/Resource"
   }
  },
  "ReferralsWebSocketAPIStage1053224E": {
   "Type": "AWS::ApiGatewayV2::Stage",
   "Properties": {
    "ApiId": {
     "Ref": "ReferralsWebSocketAPI16F9DC58"
    },
    "AutoDeploy": true,
    "StageName": "dev"
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/ReferralsWebSocketAPIStage/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/2VSy27CMBD8Fu7GvFSpvRVoK3FARaFVj2iTLMHFsa14A4os/3tlY549zcyO5R3vesxHL0/cDXtwtP2i3PelyLlbExR7Bke7cWWnoNZlzt0X5BLZfKsi8azQlRKkufu22Ky0lsG78DOZS4GKbq1rZVGiIkFdqHomoOYu06ceEVdaiqIL8sQ8g9pIse24m2/V1JhgzRpQxc4zCXVeAncfrSpIaBW8W77CphbWBvV+QEVr3TYFLsEYoapw4H/VMzvZgLVIlk8DMDvhs7bYI83AIgMjKiA8QsddhpamRsTsib6hkbqr02Nv1Jqgiq88kQxt7BrvXCLtdBnMxM5uujlyf9P6MObuB/O1DrFSggCXWqZbwqtcKMKqgfNYHuTD4fuk3t+l+WzJtMTiZIIfJzbsgzQ74MPea/pSg4Bpccl0YXdpcZ6tOtppNZjw0Zg/936tEP2mVSRq5NkJ/wDEBlDxpgIAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "BrightpointStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "CognitoUserPoolId": {
   "Value": {
    "Ref": "BrightpointUserPoolF24B41F9"
   }
  },
  "CognitoUserPoolClientId": {
   "Value": {
    "Ref": "BrightpointUserPoolClient3A182275"
   }
  },
  "CognitoIdentityPoolId": {
   "Value": {
    "Ref": "BrightpointIdentityPool"
   }
  },
  "AmplifyManualAppConsoleUrl": {
   "Description": "URL of the Amplify App (manually deploy frontend to prod branch)",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Fn::GetAtt": [
        "BrightpointManualAmplifyApp4DC32DC0",
        "AppId"
       ]
      },
      ".amplifyapp.com"
     ]
    ]
   }
  },
  "UserDashboardAPIEndpoint7C069EF1": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UserDashboardAPIAB9DEF4E"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UserDashboardAPIDeploymentStagedev64521116"
      },
      "/"
     ]
    ]
   }
  },
  "QueryAnalyticsAPI1Endpoint64CAB9AF": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "QueryAnalyticsAPI12288DAE3"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "QueryAnalyticsAPI1DeploymentStagedev1A1FE02C"
      },
      "/"
     ]
    ]
   }
  },
  "QueryAnalyticsAPI2Endpoint2E21B3D5": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "QueryAnalyticsAPI2645EC6E1"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "QueryAnalyticsAPI2DeploymentStagedev3CEBBE56"
      },
      "/"
     ]
    ]
   }
  },
  "createUserEndpoint779A5A75": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "createUserC6ED88E6"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "createUserDeploymentStageprodB444363F"
      },
      "/"
     ]
    ]
   }
  },
  "ReferralChatbotAPIEndpoint19B05A23": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ReferralChatbotAPI978B0CF6"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "ReferralChatbotAPIDeploymentStageprodA5FE4FD3"
      },
      "/"
     ]
    ]
   }
  },
  "ReferralsApiEndpoint954CB844": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ReferralsApi2C829B6C"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
      },
      "/"
     ]
    ]
   }
  },
  "UserDashboardAPIUrl": {
   "Description": "URL of the UserDashboardAPI REST API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UserDashboardAPIAB9DEF4E"
      },
      ".execute-api.us-east-1.amazonaws.com/",
      {
       "Ref": "UserDashboardAPIDeploymentStagedev64521116"
      },
      "/"
     ]
    ]
   }
  },
  "QueryAnalyticsAPI1Url": {
   "Description": "URL of the QueryAnalyticsAPI1 REST API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "QueryAnalyticsAPI12288DAE3"
      },
      ".execute-api.us-east-1.amazonaws.com/",
      {
       "Ref": "QueryAnalyticsAPI1DeploymentStagedev1A1FE02C"
      },
      "/"
     ]
    ]
   }
  },
  "QueryAnalyticsAPI2Url": {
   "Description": "URL of the QueryAnalyticsAPI2 REST API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "QueryAnalyticsAPI2645EC6E1"
      },
      ".execute-api.us-east-1.amazonaws.com/",
      {
       "Ref": "QueryAnalyticsAPI2DeploymentStagedev3CEBBE56"
      },
      "/"
     ]
    ]
   }
  },
  "createUserUrl": {
   "Description": "URL of the createUser REST API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "createUserC6ED88E6"
      },
      ".execute-api.us-east-1.amazonaws.com/",
      {
       "Ref": "createUserDeploymentStageprodB444363F"
      },
      "/"
     ]
    ]
   }
  },
  "ReferralChatbotAPIUrl": {
   "Description": "URL of the ReferralChatbotAPI REST API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ReferralChatbotAPI978B0CF6"
      },
      ".execute-api.us-east-1.amazonaws.com/",
      {
       "Ref": "ReferralChatbotAPIDeploymentStageprodA5FE4FD3"
      },
      "/"
     ]
    ]
   }
  },
  "ReferralsApiUrl": {
   "Description": "URL of the ReferralsApi REST API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ReferralsApi2C829B6C"
      },
      ".execute-api.us-east-1.amazonaws.com/",
      {
       "Ref": "ReferralsApiDeploymentStagedevB7A09FAC"
      },
      "/"
     ]
    ]
   }
  },
  "AnalyticsWebSocketAPIUrl": {
   "Description": "URL of the AnalyticsWebSocketAPI WebSocket API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "wss://",
      {
       "Ref": "AnalyticsWebSocketAPI8F36832A"
      },
      ".execute-api.us-east-1.amazonaws.com/dev/"
     ]
    ]
   }
  },
  "ReferralChatbotWebSocketUrl": {
   "Description": "URL of the ReferralChatbotWebSocket WebSocket API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "wss://",
      {
       "Ref": "ReferralChatbotWebSocket4AF2CD48"
      },
      ".execute-api.us-east-1.amazonaws.com/prod/"
     ]
    ]
   }
  },
  "UserFeedbackWebSocketAPIUrl": {
   "Description": "URL of the UserFeedbackWebSocketAPI WebSocket API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "wss://",
      {
       "Ref": "UserFeedbackWebSocketAPIAC8C1AA7"
      },
      ".execute-api.us-east-1.amazonaws.com/prod/"
     ]
    ]
   }
  },
  "ReferralsWebSocketAPIUrl": {
   "Description": "URL of the ReferralsWebSocketAPI WebSocket API",
   "Value": {
    "Fn::Join": [
     "",
     [
      "wss://",
      {
       "Ref": "ReferralsWebSocketAPI16F9DC58"
      },
      ".execute-api.us-east-1.amazonaws.com/dev/"
     ]
    ]
   }
  },
  "WebSocketConnectionsTableName": {
   "Description": "WebSocket Connections Table Name",
   "Value": {
    "Ref": "WebSocketConnectionsTable7F0028CC"
   }
  },
  "PerplexityQueryCacheTableName": {
   "Description": "Perplexity Query Cache Table Name",
   "Value": {
    "Ref": "perplexityquerycacheTable9E120D0C"
   }
  },
  "QueryAnalyticsTableName": {
   "Description": "Query Analytics Table Name",
   "Value": {
    "Ref": "queryanalyticsTableC6CEA252"
   }
  },
  "ReferralDataTableName": {
   "Description": "Referral Data Table Name",
   "Value": {
    "Ref": "referraldataTable5ABDFEB4"
   }
  },
  "UserDataTableName": {
   "Description": "User Data Table Name",
   "Value": {
    "Ref": "userdataTableB31622A0"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}